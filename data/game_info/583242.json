{"id": 583242, "slug": "mines-mc10-by-fabrizio-caruso", "name": "Mines+ MC10 by Fabrizio Caruso", "name_original": "Mines+ MC10 by Fabrizio Caruso", "description": "<p>MINES+ MC10</p>\n<p>for the TRS-80 MC-10</p>\n<p>Original game idea by Fabrizio Caruso</p>\n<p>This is strategy game. Move carefully.</p>\n<p>You are in a minefield where mines appear both</p>\n<p>- under your feet once you move and\u00a0</p>\n<p>- around you (more if you do not move)</p>\n<p>You start with 3 lives and 9 anti-mine charges.</p>\n<p>You can clear the area around you with anti-mine charges but you can only carry a maximum of 9.</p>\n<p>If you reach a \"$\" item you get an extra anti-mine charge.</p>\n<p>The field has upper and lower borders. If reached you lose all your lives. Left and Right border wrap around.</p>\n<p>The rate of mines appearing around you, increases continuously.</p>\n<p>If you end up on a mine, you lose one life.</p>\n<p>Goals:</p>\n<p>- Reach the highest score possible by walking on empty positions or collecting charges \"$\"</p>\n<p>- Avoid stepping on mines or the upper and lower borders.\u00a0</p>\n<p>- Reach the next 500 points to get an extra life and a full recharge of your anti-mine charges</p>\n<p>SCORE:</p>\n<p>- Walk into an empty position: 1 point</p>\n<p>- Walk into a anti-mine charge \"$\": 10 points</p>\n<p>CONTROLS:</p>\n<p>- Use I J K L to move\u00a0</p>\n<p>- Use SPACE to clear nearby area (if you have charges left)</p>\n\n<p>EXPANDED CODE (?-&gt;PRINT)\u00a0</p>\r\n\r\n0ON-((INKEY$=\"\")AND(J&gt;0))GOTO0:CLS0:A=16384:O=A+95:P=A+271:M=35:K=1:FORI=0TOM:POKEO+RND(384),M:NEXT:IFJ&gt;RTHENR=J\r\n1X=500:B=49151:Q=.98:G=O-95:H=106:W=100:V=3:T=32:Z=64:N=160:J=.:D=A+480:U=.0005:PRINT@0,\"USE IJKL &lt;SPC&gt;\":IFINKEY$=\"\"GOTO1\r\n2POKEA+45,13:POKEA+46,9:POKEA+47,14:POKEA+48,5:POKEA+49,19:POKEA+50,43:FORI=0TO31:POKEO-I,255-T:POKED+I,255-T:NEXT\r\n3PRINT@0,\"$\"9-F;\"  \"V\" SCORE:\"J\" HI:\"R:POKEO-90,H:IFPEEK(P)=WTHENSOUNDZ,1:J=J+9:F=F+(F&gt;0)\r\n4POKEP,191:IFRND(0)&gt;Q AND P&gt;O+T THENPOKEP-6+2*RND(5)-Z*(RND(3)-2),M\r\n5L=JAND3:A$=INKEY$:S=.:Y=.:IFA$&lt;&gt;\"\"THENS=ASC(A$):E=SAND1:Q=Q-U\r\n6C=S-75+E:POKEP,H:IFSGN(C)=CTHENY=1:POKEP,M:P=P+C*31*E+C:J=J+1:SOUNDT,1:IFJ&gt;=K*XTHENSOUNDN,2:POKEB,Z:K=K+1:F=0:V=V-(V&lt;9)\r\n7V=-V*(P&lt;D ANDP&gt;O):POKEG,W:G=O-95:POKEB,0:IF-YTHENIFL=3THENG=O+RND(384):POKEG,36\r\n8IFS=TTHENIFF&lt;9THENPOKEB,Z:POKEP-1,N:POKEP+1,N:POKEP-T,N:POKEP+T,N:F=F+1:POKEP,42:IFP&gt;=(D-T)ORP&lt;=(O+T)GOTO2\r\n9ON-(V&gt;0AND(PEEK(P)&lt;&gt;M))GOTO3:F=.:POKEP,H:V=V-1:SOUND1,2:ON-(V&gt;0)GOTO3:PRINT@Z,\"            GAME OVER\":FORI=-XTOX:NEXT:GOTO0\r\n<p>MAIN VARIABLES</p>\n<p>O top-right wall location</p>\n<p>D bottom-left wall location</p>\n<p>P player's position</p>\n<p>H main character (106 = diamond)</p>\n<p>M mine character (35 = inverted #)</p>\n<p>W mine bomb character (100 = $)</p>\n<p>J score</p>\n<p>R hiscore</p>\n<p>F number of used mine bombs (mine bombs left = 9 - F)</p>\n<p>Q probability of not generating an extra mine nearby</p>\n<p>K counter for extra life bonus (next extra life = 500 x K)</p>\n<p>L modulo 4 counter for the generation of new mine bombs</p>\n<p>V number of left lives</p>\n<p>G position of the newly randomly generated mine bomb</p>\n<p>B screen foreground register (49151)</p>\n<p>A video memory initial location (16384)</p>\n<p>EXPLAINED CODE</p>\n<p>0</p>\n<p>// Clear screen and set color to black</p>\n<p>CLS0:</p>\n<p>// Wait for key press if the game has just been restarted (J&gt;0)</p>\n<p>ON-((INKEY$=\"\")AND(J&gt;0))GOTO0:CLS0:</p>\n<p>// Initialize variables</p>\n<p>A=16384:O=A+95:P=A+271:M=35:K=1:</p>\n<p>// Initialize screen with random mines</p>\n<p>FORI=0TOM:POKEO+RND(384),M:NEXT:</p>\n<p>// Update record</p>\n<p>IFJ&gt;RTHENR=J</p>\n<p>1</p>\n<p>// Initialize variables</p>\n<p>X=500:B=49151:Q=.98:G=O-95:H=106:W=100:V=3:T=32:Z=64:N=160:J=.:D=A+480:</p>\n<p>// Display instruction and wait for key press</p>\n<p>PRINT@0,\"USE IJKL <spc>\":IFINKEY$=\"\"GOTO1</spc></p>\n<p>2</p>\n<p>// Display MINES+ in inverted colors</p>\n<p>POKEA+45,13:POKEA+46,9:POKEA+47,14:POKEA+48,5:POKEA+49,19:POKEA+50,43:</p>\n<p>// Display top and lower border</p>\n<p>FORI=0TO31:POKEO-I,255-T:POKED+I,255-T:NEXT</p>\n<p>3</p>\n<p>// Uddate score and display record</p>\n<p>PRINT@0,\"$\"9-F;\"\u00a0 \"V\" SCORE:\"J\" HI:\"R:</p>\n<p>POKEO-90,H:</p>\n<p>// If player on a $, then produce sound, increase score by 9 (additional points after the +1 for the move) and\u00a0</p>\n<p>// increase available mine clearining bombs if not at 9 yet</p>\n<p>IFPEEK(P)=WTHENSOUNDZ,1:J=J+9:F=F+(F&gt;0)</p>\n<p>4</p>\n<p>// Shortly display player as a red rectangle to produce a flashing effect</p>\n<p>POKEP,191:</p>\n<p>// if random condition is try and player position is not too close to the top, then display one random mine around the player</p>\n<p>IFRND(0)&gt;Q AND P&gt;O+T THENPOKEP-6+2*RND(5)-Z*(RND(3)-2),M</p>\n<p>5</p>\n<p>// L is mod 4</p>\n<p>L=JAND3:</p>\n<p>// Read input</p>\n<p>A$=INKEY$:S=.:Y=.:IFA$&lt;&gt;\"\"THENS=ASC(A$):</p>\n<p>// Part of the IJKL (see [*] below) input trick: Compute parity (vertical vs horizontal)</p>\n<p>E=SAND1:</p>\n<p>// Increase random chance to generate nearby mines</p>\n<p>Q=Q-.0005</p>\n<p>6</p>\n<p>// Part of the IJKL (see [*] below) input trick</p>\n<p>C=S-75+E:</p>\n<p>// Display player</p>\n<p>POKEP,H:</p>\n<p>// if a key among I, J, K, L is pressed than display mine at player's position, update player's position, produce a sound\u00a0</p>\n<p>IFSGN(C)=CTHENY=1:POKEP,M:P=P+C*31*E+C:J=J+1:SOUNDT,1:</p>\n<p>\u00a0 \u00a0 // If score reaches the next multiple of K=500, then a sound is produced, all mines are restored and an extra life is obtained</p>\n<p>\u00a0 \u00a0 IFJ&gt;=K*XTHENSOUNDN,2:POKEB,Z:K=K+1:F=0:V=V-(V&lt;9)</p>\n<p>7</p>\n<p>// All lives are lost if player is on the wall</p>\n<p>V=-V*(P<d andp=\"\">O):</d></p>\n<p>// Display new mine animation</p>\n<p>POKEG,W:G=O-95:</p>\n<p>POKEB,0:</p>\n<p>// If L is 3 and player has moved, than generate a new $ (mine bomb recharge)</p>\n<p>IF-YTHENIFL=3THENG=O+RND(384):POKEG,36</p>\n<p>8</p>\n<p>// If key pressed is the space bar and there is a mine bomb left, then clear the mines at north, south, east and west position</p>\n<p>// decrease available mine bombs, display player as an inverted diamond, flash the screen and\u00a0</p>\n<p>// if the player was too close to the wall, go to line 2, i.e., redraw the walls</p>\n<p>IFS=TTHENIFF&lt;9THENPOKEB,Z:POKEP-1,N:POKEP+1,N:POKEP-T,N:POKEP+T,N:F=F+1:POKEP,42:</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0\u00a0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 // If the player was too close to the wall, go to line 2, i.e., redraw the walls</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 IFP&gt;=(D-T)ORP&lt;=(O+T)GOTO2</p>\n<p>9</p>\n<p>// If player is not dead go back to line 3 (main game loop)</p>\n<p>ON-(V&gt;0AND(PEEK(P)&lt;&gt;M))GOTO3:</p>\n<p>// Otherwise, display player, decrease the number of lives. If lives are left go to line 3.</p>\n<p>// Otherwise print \"end\", wait a pair of seconds and go back to 0</p>\n<p>F=.:POKEP,H:V=V-1:SOUND1,2:ON-(V&gt;0)GOTO3:PRINT@Z,\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 GAME OVER\":FORI=-XTOX:NEXT:GOTO0</p>\n<p>[TRICK] [*]</p>\n<p>I have come up with this trick (by myself) in 2019. It may be a new trick.</p>\n<p>I do not use conditionals, nor precomputed offsets, nor Boolean expressions.</p>\n<p>I use an interpolating formula that computes the offset from the ASCII code of the pressed key.</p>\n<p>I exploit the special symmetry of the ASCII codes of the keys I J K L:</p>\n<p>- I and K have odd codes and a distance of 2 bytes</p>\n<p>- J and L have even codes and a distance of 2 bytes</p>\n<p>- I and K have odd ASCII codes</p>\n<p>- J and L have even ASCII codes</p>\n<p>So, given s=ASC(a$) with a$ either I or J or K or L, we update the position p with</p>\n<p>p=p+c*(31*e+1)\u00a0</p>\n<p>where</p>\n<p>- e=s and 1 -&gt; parity of the code, i.e., vertical vs horizontal movement</p>\n<p>- c=s-75+e -&gt; -1 for left/up vs +1 for right/down</p>\n<p>- 31*e+1 -&gt; vertical vs horizontal offset absolute value, i.e., 1 vs 32</p>", "metacritic": null, "released": "2021-04-08", "tba": false, "updated": "2021-04-12T22:10:48", "background_image": "https://media.rawg.io/media/screenshots/456/4564b82e0efc59d1dbf5e70a0529361a.jpg", "website": "", "rating": 0.0, "rating_top": 0, "added_by_status": null, "playtime": 0, "achievements_count": 0, "ratings_count": 0, "suggestions_count": 27, "game_series_count": 0, "reviews_count": 0, "platforms": ["PC"], "developers": ["BASIC 10Liner"], "genres": ["Action"], "publishers": [], "esrb_rating": null}