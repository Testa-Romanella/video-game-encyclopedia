{"id": 583252, "slug": "mini-brainstorm-by-fabrizio-caruso", "name": "Mini Brainstorm by Fabrizio Caruso", "name_original": "Mini Brainstorm by Fabrizio Caruso", "description": "<p>MINI BRAINSTORM</p>\n<p>This is the old mini puzzle \"Missionaries and Cannibals\".</p>\n<p>The name \"Mini Brainstorm\" comes from \"Brainstorm\", which is a Vic 20 port of \"Missionaries and Cannibals\".</p>\n<p>GOAL:</p>\n<p>On the left bank of the river you have 3 missionaries (clubs character) and 3 cannibals (red bullet character).</p>\n<p>The boat can take 1 or 2 people. The boat needs at least 1 person to cross the river.</p>\n<p>Cannibals eat missionaries on the same bank if they are the majority.</p>\n<p>You can only cross the river from bank A to bank B if the boat is already on the bank A.</p>\n<p>CONTROLS:</p>\n<p>Enter either one single letter (A B C D E F) or a combination of them and press <return>.</return></p>\n<p>Example 1:</p>\n<p>At game start, DE<return> -&gt; move cannibals D and E to the right bank</return></p>\n<p>Example 2:</p>\n<p>At game start, AE<return> -&gt; move missionary A and cannibal E to the right bank</return></p>\n\n<p>EXPANDED CODE (CBM Prg Studio syntax)</p>\r\n\r\n0dimp(99):dimc$(99):dimd$(99):z=65:fori=.to5:p(i+z)=.:next:t=.:q=.:g=32:o(1)=14:gosub7\r\n1o(.)=5:gosub8:input\"{down*4}{purple}&gt;\";a$:a$=a$+\"  \":f=asc(mid$(a$,1,1)):s=asc(mid$(a$,2,1)):pokev,9\r\n2pokev,.:iff=gorf&lt;zorf&gt;70orf=sors&lt;&gt;gand(s&lt;zors&gt;70)or(p(f)&lt;&gt;t)or(s&lt;&gt;gandp(s)&lt;&gt;t)goto1\r\n3p(f)=p(f)+1and1:p(s)=p(s)+1and1:q=q+1:print\"{cyan}....\":print\"{blue}{down}step:\";q:foru=-ztoz:next:forw=.to1\r\n4m(w)=.:c(w)=.:fori=.to2:m(w)=m(w)+(p(i+z)+wand1):c(w)=c(w)+(p(i+68)+wand1):next:next\r\n5t=t+1and1:on-((m(.)&lt;&gt;c(.))or(c(.)&lt;3))goto6:gosub8:print\"{down*2}{blue}done in\"q\"steps!\":gosub7:run\r\n6on-(((m(.)=.)or(m(.)&gt;=c(.)))and((m(1)=.)or(m(1)&gt;=c(1))))goto1:gosub8:print\"{red}end\":gosub7:run\r\n7fori=.to2:forj=9toz:c$(i+z)=\"{black}\":d$(i+z)=\"{120}\":c$(i+68)=\"{red}\":d$(i+68)=\"{113}\":next:next:return\r\n8print\"{clear}{red}{113}{black}{216} {blue}mini-brainstorm {black}{216}{red}{113}{down*2}\":fori=.to5:printspc(o(p(i+z)));c$(i+z);d$(i+z);chr$(i+z)\r\n9poke38476+22*i,3:poke7756+22*i,102:next:printspc(o(t));\"{left}{green}{223}{185*2}{169}\":v=36878:pokev+1,25:poke19,1:return\r\n\n<p>MAIN VARIABLES</p>\n<p>f: first input ASCII character</p>\n<p>g: space character (32)</p>\n<p>q: number of steps</p>\n<p>m(w): missionaries on bank w</p>\n<p>c(w): cannibals on bank w</p>\n<p>s: second input ASCII character</p>\n<p>o(x): number of spaces to display on either left (x=0) or right (x=1)\u00a0</p>\n<p>z: offset to map 'A' into 0</p>\n<p>c$: color of given letter</p>\n<p>d$: PETSCII character of a given letter</p>\n<p>v: volume register used to produce a click sound by bit-banging</p>\n<p>p(x): position of x (either 0 for left bank or 1 for right bank)\u00a0</p>\n<p>EXPLAINED CODE</p>\n<p>0</p>\n<p>// Initialization</p>\n<p>dimp(99):dimc$(99):dimd$(99):</p>\n<p>// Z is the index of the first position (A)</p>\n<p>z=65:</p>\n<p>// Initialize all characters on the left bank of the river</p>\n<p>fori=.to5:p(i+z)=.:next:t=.:</p>\n<p>q=.:g=32:o(1)=14:gosub7</p>\n<p>1</p>\n<p>// Initialize spacing for left bank to 5</p>\n<p>o(.)=5:</p>\n<p>// Just to routine at line 8 to re-display the screen with the new positions</p>\n<p>gosub8:</p>\n<p>// Read input and make sure that fewer of two characters does not break the code</p>\n<p>input\"{down*4}{purple}&gt;\";a$:a$=a$+\"\u00a0 \":</p>\n<p>// Store ASCII values of the first two characters including spaces if 0 or 1 character were input</p>\n<p>f=asc(mid$(a$,1,1)):s=asc(mid$(a$,2,1)):</p>\n<p>// Initialize sound volume</p>\n<p>pokev,9</p>\n<p>2</p>\n<p>// Set volume to zero in order to produce a short click sound (bit banging)</p>\n<p>pokev,.:</p>\n<p>// If impossible characters or characters combinations were use then go back to line 1.</p>\n<p>iff=gorf<zorf>70orf=sors&lt;&gt;gand(s<zors>70)or(p(f)&lt;&gt;t)or(s&lt;&gt;gandp(s)&lt;&gt;t)goto1</zors></zorf></p>\n<p>3</p>\n<p>// Move the two selected characters. Remark: The \"and\" has lower priority than then \"+\" operation in BASIV V2.</p>\n<p>p(f)=p(f)+1and1:p(s)=p(s)+1and1:</p>\n<p>// Increase number of steps. Display short animation with the current number.</p>\n<p>q=q+1:print\"{cyan}....\":print\"{blue}{down}step:\";q:</p>\n<p>// Short pause</p>\n<p>foru=-ztoz:next:</p>\n<p>// Start loop to compute m(0), c(0), m(1), c(1)</p>\n<p>forw=.to1</p>\n<p>4</p>\n<p>// Compute m(0), c(0), m(1), c(1), i.e., number of missionaries and cannibals on both banks</p>\n<p>m(w)=.:c(w)=.:fori=.to2:m(w)=m(w)+(p(i+z)+wand1):c(w)=c(w)+(p(i+68)+wand1):next:next</p>\n<p>5</p>\n<p>// Change bank of the river</p>\n<p>t=t+1and1:</p>\n<p>// Verify non-victory condition. If yes, go back to line 6.</p>\n<p>// Otherwise print victory message, use routine at 7 as a short pause, restart the game.\u00a0</p>\n<p>on-((m(.)&lt;&gt;c(.))or(c(.)&lt;3))goto6:gosub8:print\"{down*2}{blue}done in\"q\"steps!\":gosub7:run</p>\n<p>6</p>\n<p>// Verify non-defeat condition. If yes go back to line 1.\u00a0</p>\n<p>// Otherwise Go to routine at line 8 to redraw the screen. Print \"end\". Use routine at 7 as a short pause. Restart the game.</p>\n<p>on-(((m(.)=.)or(m(.)&gt;=c(.)))and((m(1)=.)or(m(1)&gt;=c(1))))goto1:gosub8:print\"{red}end\":gosub7:run</p>\n<p>7</p>\n<p>// Initialize some strings. Also used as a short pause.</p>\n<p>fori=.to2:forj=9toz:c$(i+z)=\"{black}\":d$(i+z)=\"{120}\":c$(i+68)=\"{red}\":d$(i+68)=\"{113}\":next:next:return</p>\n<p>8</p>\n<p>// Display the title, the characters</p>\n<p>print\"{clear}{red}{113}{black}{216} {blue}mini-brainstorm {black}{216}{red}{113}{down*2}\":fori=.to5:printspc(o(p(i+z)));c$(i+z);d$(i+z);chr$(i+z)</p>\n<p>9</p>\n<p>// Draw the river</p>\n<p>poke38476+22*i,3:poke7756+22*i,102:next:</p>\n<p>// Display the boat</p>\n<p>printspc(o(t));\"{left}{green}{223}{185*2}{169}\":</p>\n<p>// Initialize v\u00a0</p>\n<p>v=36878:</p>\n<p>// Set screen to blue</p>\n<p>pokev+1,25:</p>\n<p>// Disable \"?\" character in INPUT command</p>\n<p>poke19,1:return</p>", "metacritic": null, "released": "2021-04-08", "tba": false, "updated": "2021-04-12T22:13:14", "background_image": "https://media.rawg.io/media/screenshots/b7b/b7b030f1fbe89631ea2eed2333a67858.jpg", "website": "", "rating": 0.0, "rating_top": 0, "added_by_status": null, "playtime": 0, "achievements_count": 0, "ratings_count": 0, "suggestions_count": 6, "game_series_count": 0, "reviews_count": 0, "platforms": ["PC"], "developers": ["BASIC 10Liner"], "genres": ["Puzzle"], "publishers": [], "esrb_rating": null}