{"id": 300548, "slug": "not-so-advance-wars", "name": "Not So Advance Wars", "name_original": "Not So Advance Wars", "description": "<p>Lors de la d\u00e9couverte du th\u00e8me de cette jam #19, j'ai tout de suite eu envie de faire <strong>un jeu multijoueurs en ligne</strong>.\u00a0Comme c'est quelque chose de tr\u00e8s nouveau pour moi, je n'ai pas cherch\u00e9 l'originalit\u00e9 au niveau du gameplay ou des graphismes pour me concentrer sur la seule r\u00e9alisation : je suis donc parti sur l'impl\u00e9mentation d'un Advance Wars.</p>\n<p>C\u00f4t\u00e9 client, j'ai choisi le couple Lua/L\u00d6VE parce que c'est la seule technologie de jeu que je ma\u00eetrise \u00e0 ce jour.\u00a0C\u00f4t\u00e9 serveur, j'ai choisi Elixir parce que c'est un langage que j'aime et adapt\u00e9 \u00e0 ce genre de serveur de jeu . Je reviens sur les aspects techniques plus bas.\u00a0Comme d'habitude, tout le code est disponible sur GitHub :\u00a0le client\u00a0comme\u00a0le serveur.</p>\n\n<p>Je n'avais jamais travaill\u00e9 avec les sockets (en l'occurrence TCP) et \u00e7a n'a donc pas \u00e9t\u00e9 facile de mettre le pied \u00e0 l'\u00e9trier. Le processus de d\u00e9veloppement \u00e9tait assez laborieux puisque je\u00a0testais\u00a0avec deux ordinateurs. Je n'ai pu travailler que la derni\u00e8re semaine de la jam : il y a donc 7 jours de travail acharn\u00e9s derri\u00e8re tout \u00e7a, \u00e0 environ 10 heures par jour. Vive les vacances scolaires pour les enseignants !</p>\n<p>La mise en production du serveur (sur une serveur d\u00e9di\u00e9 Debian que je loue)\u00a0a \u00e9t\u00e9 triviale gr\u00e2ce \u00e0 Distillery. Cet\u00a0outil cr\u00e9e des ex\u00e9cutables \u00e0 partir des sources\u00a0Elixir et\u00a0qui permettent de lancer le jeu en background, en foreground ou bien en foreground avec une console interactive (pour pouvoir surveiller ce qui se passe, intervenir,\u00a0se rajouter de l'argent).</p>\n<p>Le jeu fonctionne sans base de donn\u00e9es : tout est stock\u00e9 en m\u00e9moire le temps de la partie, et la liste des joueurs connect\u00e9s et des lobbies ouverts est stock\u00e9e en m\u00e9moire pour toute la dur\u00e9e d'ex\u00e9cution du serveur. Elixir permet de lancer des \"processus\" qui tournent\u00a0simultan\u00e9ment\u00a0et attendent des messages. En l'occurrence ici j'en ai 3 : un qui g\u00e8re les joueurs connect\u00e9s (il maintient une liste au gr\u00e9 des connexions/d\u00e9connexions), un qui g\u00e8re les lobbies (pareil, il maintient une liste des lobbies ouverts, les ferme quand un joueur quitte ou que la partie pour ce lobby d\u00e9marre) et enfin un process pour chaque partie lanc\u00e9e, qui reste ouvert jusqu'\u00e0 la fin de cette partie.</p>\n<p>C\u00f4t\u00e9 Lua, j'aime toujours la simplicit\u00e9 du langage mais je m'exasp\u00e8re de la pauvret\u00e9 de sa\u00a0librairie standard et\u00a0de\u00a0son\u00a0\u00e9cosyst\u00e8me. Je pense changer bient\u00f4t de techno, sans doute au profit du langage\u00a0Haxe et de l'un de ses nombreux moteurs.</p>\n<p>Le jeu fonctionne essentiellement avec des machine \u00e0 \u00e9tat : l'app\u00a0est une machine \u00e0 \u00e9tats avec un \u00e9tat par \u00e9cran : l'\u00e9cran principal avec les joueurs connect\u00e9s et\u00a0les parties, l'\u00e9cran qui affiche la partie en cours et l'\u00e9cran\u00a0de\u00a0cin\u00e9matique de combat. Chacun de ces \u00e9crans est \u00e9galement une machine \u00e0 \u00e9tats. Et enfin dans la cin\u00e9matique de combat, le background et chaque unit\u00e9 affich\u00e9e est une machine \u00e0 \u00e9tats \u00e9galement ! Cela\u00a0m'a permis d'organiser\u00a0<em>assez\u00a0facilement\u00a0</em>le d\u00e9roulement d'un combat (et donc son animation).</p>\n<p>Les graphismes sont ceux d'Advance Wars, pioch\u00e9s sur\u00a0spriters-resource.com. Les quelques effets sonores proviennent de soundbible.com et de Kaamelott pour le cor.<br/></p>\n<p>Je\u00a0vous attends sur le jeu !</p>", "metacritic": null, "released": "2019-03-04", "tba": false, "updated": "2019-03-08T04:59:30", "background_image": "https://media.rawg.io/media/screenshots/018/018f94b41a18c12d0941d3013a68056b.jpg", "website": "", "rating": 0.0, "rating_top": 0, "added_by_status": null, "playtime": 0, "achievements_count": 0, "ratings_count": 0, "suggestions_count": 17, "game_series_count": 0, "reviews_count": 0, "platforms": ["PC", "macOS", "Linux"], "developers": ["Sephi-Chan"], "genres": ["Strategy"], "publishers": [], "esrb_rating": null}