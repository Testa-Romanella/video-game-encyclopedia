{"id": 420698, "slug": "official-zx-interface-zxi-standard", "name": "Official ZX Interface (ZXI ) Standard", "name_original": "Official ZX Interface (ZXI ) Standard", "description": "<p><strong>T</strong>he ZXI\u2122 (ZX Interface) standard is for devices that are attached to the Spectrum edge connector.</p>\n<p>ZXI\u2122 compliant devices are inter-operable with each other without conflicts. Certified devices may display the logo on their case, in their manuals, and on-screen.</p>\r\nBackground\r\n<p>The Z80 provides 16-bit I/O decoding, so in theory the Spectrum has 65536 ports available for hardware devices. In practice the Spectrum does not fully decode the I/O and there are no spare I/O ports available that do not clash with at least one existing peripheral. For example, the ULA alone uses 32768 ports (every even port). It is worth noting that the Timex clones do fully decode the I/O ports.</p>\n<p>During the development of the ULAplus replacement ULA, a comprehensive search was carried out to determine a 16-bit port range that clashed with the least devices. An 8-bit port was located that clashed with a single device, the ZX Printer, and a hardware fix created to prevent the ZX Printer using that address. A modification to the ZX Printer circuit prevents it being triggered by access to port\u00a0xx3B.</p>\n<p>Meanwhile, during the development of the Spectranet ethernet card, a solution was devised to enable multiple devices to page in their own ROMs using 'ripple priority'. The ZXI standard combines these two approaches into a single standard. Legacy devices that do not use ROM paging may also be certified as ZXI compliant on a case by case basis.</p>\r\nPort Allocation\r\n<p><strong>Port allocations are currently in flux - be advised that assignments may change in the future</strong></p>\n<p>To have your device certified as ZXI compliant, you must apply for the required number of I/O ports in the range\u00a0#hh3B. This can be done by leaving a message in the forum.</p>\n<p><strong>Allocations as of 05 September 2012</strong></p>\n<p>It is proposed that the 256 ZXI\u2122 ports (#xx3B) be divided into two areas based on the state of the\u00a0A15\u00a0line.</p>\n<p>A plug-in ULA replacement (such as a ULAPlus implementation) fitted in place of the original ULA can only access the A14 and A15 lines of the high address byte. This means that only partial decoding is possible and the device will respond to 128 of the available 256 ports.</p>\n<p>A complete clone (i.e. not a plug-in ULA replacement) however can be given access to the full address bus and hence should decode the high bytes fully. It is proposed that any ports needed for internal functions in a clone (for example changing clock speed) be allocated from the higher 128 ports (i.e. A15 high).</p>\n<p>Current ZXI\u2122 port assignments with\u00a0A15\u00a0high:</p>\r\n\r\n#FF   : ULAplus data\r\n#FE   : ZX Prism palette control\r\n#FD   : ZX-UNO\r\n#FC   : ZX-UNO\r\n#FB   : ZXID system (draft)\r\n#EF-FB: Unassigned\r\n#EE   : ZX Prism (?)\r\n#E0-ED: Unassigned\r\n#DF   : Spectrastick data / ZEsarUX data\r\n#DE   : ZX Prism (?)\r\n#D0-DD: Unassigned\r\n#CF   : Spectrastick register select / ZEsarUX register select\r\n#CE   : ZX Prism (?)\r\n#C0-CD: Unassigned\r\n#BF   : ULAplus register select\r\n#BE   : ZX Prism palette control\r\n#AF-BD: Unassigned\r\n#AE   : ZX Prism (?)\r\n#9F-AD: Unassigned\r\n#9E   : ZX Prism (?)\r\n#8F-9D: Unassigned\r\n#8E   : ZX Prism (?)\r\n#80-8D: Unassigned\r\n\r\n<p>Current ZXI\u2122 port assignments with\u00a0A15\u00a0low:</p>\r\n\r\n#20-27: MB03+\r\n#04-7F: Unassigned\r\n#03   : Spectranet page A memory select #02   : Spectranet page B memory select\r\n#01   : Spectranet programmable trap register\r\n#00   : Spectranet control register\r\n\r\nPort Decoding\r\n<p>ZXI\u2122 compliant devices must perform complete bus decoding and take into account the M1 signal and the RFSH signal.</p>\r\nNMI Handling\r\n<p>The device must only respond to its own NMI. This is particularly important if the machine is using a ROM with a working NMI handler routine.</p>\r\nINT Triggering\r\n<p>It is possible on machines which have a straight connection from the INT signal at the rear bus, to the INT pin at the Z80 for an external devices to trigger an INT. It can block the normal ULA interrupt and inject its own INT pulses. ZXI\u2122 compliant devices that use the INT signal should put a 0xFF on the data bus during the INTA cycle if the device does not use vector interrupts.</p>\r\nIORQULA/IORQGE\r\n<p>More detail required.</p>\r\nLegacy Device Certification\r\n<p>Legacy devices that do not use their own ROMs may also be certified as compliant on a case by case basis. For example, an AY expansion for the 48K machine that uses the same ports as the 128K machine, or an IF2 compatible Sinclair Joystick interface would both be certified compliant.</p>\r\nCertified Devices\r\n<ul><li>Spectranet</li><li>SLAM+/SLAM+128 (replacement ULAs)</li><li>divMMC (SD storage)</li><li>MB03+ (IDE storage)</li><li>Kempston Joystick (when fully decoded)</li><li>Kempston Mouse (when fully decoded)</li></ul>\r\nPending Devices\r\n<ul><li>ZX-HD (does not currently implement reading ULAplus ports)</li></ul>\r\nLegal\r\n<p>ZXI\u2122 is a trademark of ZX Design and Media. ZXI\u2122 is a royalty-free open standard. The official ZXI\u2122 standard is released under the\u00a0Creative Commons Attribution-Share Alike License.</p>\n<p>The ZXI\u2122 (ZX Interface) standard is for devices that are attached to the Spectrum edge connector.</p>\n<p>ZXI\u2122 compliant devices are inter-operable with each other without conflicts. Certified devices may display the logo on their case, in their manuals, and on-screen.</p>\r\nBackground\r\n<p>The Z80 provides 16-bit I/O decoding, so in theory the Spectrum has 65536 ports available for hardware devices. In practice the Spectrum does not fully decode the I/O and there are no spare I/O ports available that do not clash with at least one existing peripheral. For example, the ULA alone uses 32768 ports (every even port). It is worth noting that the Timex clones do fully decode the I/O ports.</p>\n<p>During the development of the ULAplus replacement ULA, a comprehensive search was carried out to determine a 16-bit port range that clashed with the least devices. An 8-bit port was located that clashed with a single device, the ZX Printer, and a hardware fix created to prevent the ZX Printer using that address. A modification to the ZX Printer circuit prevents it being triggered by access to port\u00a0xx3B.</p>\n<p>Meanwhile, during the development of the Spectranet ethernet card, a solution was devised to enable multiple devices to page in their own ROMs using 'ripple priority'. The ZXI standard combines these two approaches into a single standard. Legacy devices that do not use ROM paging may also be certified as ZXI compliant on a case by case basis.</p>\r\nPort Allocation\r\n<p><strong>Port allocations are currently in flux - be advised that assignments may change in the future</strong></p>\n<p>To have your device certified as ZXI compliant, you must apply for the required number of I/O ports in the range\u00a0#hh3B. This can be done by leaving a message in the forum.</p>\n<p><strong>Allocations as of 05 September 2012</strong></p>\n<p>It is proposed that the 256 ZXI\u2122 ports (#xx3B) be divided into two areas based on the state of the\u00a0A15\u00a0line.</p>\n<p>A plug-in ULA replacement (such as a ULAPlus implementation) fitted in place of the original ULA can only access the A14 and A15 lines of the high address byte. This means that only partial decoding is possible and the device will respond to 128 of the available 256 ports.</p>\n<p>A complete clone (i.e. not a plug-in ULA replacement) however can be given access to the full address bus and hence should decode the high bytes fully. It is proposed that any ports needed for internal functions in a clone (for example changing clock speed) be allocated from the higher 128 ports (i.e. A15 high).</p>\n<p>Current ZXI\u2122 port assignments with\u00a0A15\u00a0high:</p>\r\n\r\n#FF   : ULAplus data\r\n#FE   : ZX Prism palette control\r\n#FD   : ZX-UNO\r\n#FC   : ZX-UNO\r\n#FB   : ZXID system (draft)\r\n#EF-FB: Unassigned\r\n#EE   : ZX Prism (?)\r\n#E0-ED: Unassigned\r\n#DF   : Spectrastick data / ZEsarUX data\r\n#DE   : ZX Prism (?)\r\n#D0-DD: Unassigned\r\n#CF   : Spectrastick register select / ZEsarUX register select\r\n#CE   : ZX Prism (?)\r\n#C0-CD: Unassigned\r\n#BF   : ULAplus register select\r\n#BE   : ZX Prism palette control\r\n#AF-BD: Unassigned\r\n#AE   : ZX Prism (?)\r\n#9F-AD: Unassigned\r\n#9E   : ZX Prism (?)\r\n#8F-9D: Unassigned\r\n#8E   : ZX Prism (?)\r\n#80-8D: Unassigned\r\n\r\n<p>Current ZXI\u2122 port assignments with\u00a0A15\u00a0low:</p>\r\n\r\n#20-27: MB03+\r\n#04-7F: Unassigned\r\n#03   : Spectranet page A memory select #02   : Spectranet page B memory select\r\n#01   : Spectranet programmable trap register\r\n#00   : Spectranet control register\r\n\r\nPort Decoding\r\n<p>ZXI\u2122 compliant devices must perform complete bus decoding and take into account the M1 signal and the RFSH signal.</p>\r\nNMI Handling\r\n<p>The device must only respond to its own NMI. This is particularly important if the machine is using a ROM with a working NMI handler routine.</p>\r\nINT Triggering\r\n<p>It is possible on machines which have a straight connection from the INT signal at the rear bus, to the INT pin at the Z80 for an external devices to trigger an INT. It can block the normal ULA interrupt and inject its own INT pulses. ZXI\u2122 compliant devices that use the INT signal should put a 0xFF on the data bus during the INTA cycle if the device does not use vector interrupts.</p>\r\nIORQULA/IORQGE\r\n<p>More detail required.</p>\r\nLegacy Device Certification\r\n<p>Legacy devices that do not use their own ROMs may also be certified as compliant on a case by case basis. For example, an AY expansion for the 48K machine that uses the same ports as the 128K machine, or an IF2 compatible Sinclair Joystick interface would both be certified compliant.</p>\r\nCertified Devices\r\n<ul><li>Spectranet</li><li>SLAM+/SLAM+128 (replacement ULAs)</li><li>divMMC (SD storage)</li><li>MB03+ (IDE storage)</li><li>Kempston Joystick (when fully decoded)</li><li>Kempston Mouse (when fully decoded)</li></ul>\r\nPending Devices\r\n<ul><li>ZX-HD (does not currently implement reading ULAplus ports)</li></ul>\r\nLegal\r\n<p>ZXI\u2122 is a trademark of ZX Design and Media. ZXI\u2122 is a royalty-free open standard. The official ZXI\u2122 standard is released under the\u00a0Creative Commons Attribution-Share Alike License.</p>", "metacritic": null, "released": "2020-03-16", "tba": false, "updated": "2020-03-20T05:04:47", "background_image": "https://media.rawg.io/media/screenshots/47f/47f50a9aa02be6d1f11615203812b4eb.jpg", "website": "", "rating": 0.0, "rating_top": 0, "added_by_status": null, "playtime": 0, "achievements_count": 0, "ratings_count": 0, "suggestions_count": 8, "game_series_count": 0, "reviews_count": 0, "platforms": ["PC"], "developers": ["ZX Design and Media"], "genres": [], "publishers": [], "esrb_rating": null}