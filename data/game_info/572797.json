{"id": 572797, "slug": "connect-4-by-jose-javier-franco-benitez", "name": "Connect 4 by Jose Javier Franco Ben\u00edtez", "name_original": "Connect 4 by Jose Javier Franco Ben\u00edtez", "description": "<p>--------------------------------------------------------------------</p>\n<p>\u00a0CONNECT 4 - A Classic Game in just 10 lines for MSX 1st generation</p>\n<p>--------------------------------------------------------------------</p>\n<p>Connect 4 is a well-known classic game where you have to get four disks in the same diagonal, horizontal or vertical line.\u00a0</p>\n<p>The game starts answering who will be the first to move, if you press 'Y' or 'y', you will play the first, anything else\u00a0</p>\n<p>makes computer play. Use the left and right arrows to move your disk over the chosen colum and the down arrow to drop it,\u00a0</p>\n<p>afterwards the program takes a little time to check whether 4 disk-in-line is done, if so, you win, if not, computer thinks\u00a0</p>\n<p>and checks lines.</p>\n<p>Once the game ends up, press 'return' to restart the program.</p>\n<p>The game can be played on real computers but it is recommended to take advantage of emulators. The program takes 1 minute\u00a0</p>\n<p>and half or so to choose its movement. It is not very fast but... it is playable and the first game in 10liners contest on\u00a0</p>\n<p>its kind. If openmsx is used, you can press F9 key to hasten the program. Another option is to go to the msxpen web page and\u00a0</p>\n<p>'copy and paste' the code there, this online emulator also allows you to make the code faster.</p>\n<p>--------------</p>\n<p>\u00a0INSTRUCTIONS</p>\n<p>--------------</p>\n<p>Real machines:\u00a0 save the cnt4.wav file in a real cassette for using it on your favorite MSX and type RUN\"CAS:\" plus return</p>\n<p>Emulators:\u00a0 \u00a0 \u00a0 open the cnt4.wav file in BlueMSX/Openmsx/fmsx/RuMSX or whatelse and type RUN\"CAS:\" plus return</p>\n<p>MSXPEN:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0Go to https://msxpen.com/ webpage and copy and paste the code inside cnt4.bas file</p>\n<p>--------------</p>\n<p>\u00a0FILES INSIDE</p>\n<p>--------------</p>\n<p>cnt4.txt This text</p>\n<p>cnt4.bas Game saved in ASCII mode (listeable on any text editor)</p>\n<p>cnt4.png Picture</p>\n<p>cnt4.wav\u00a0 \u00a0 Audio file program for emulators and real machines</p>\n<p>---------------------------</p>\n<p>\u00a0Author and released year:</p>\n<p>--------------------------</p>\n<p>Jos\u00e9 Javier Franco Ben\u00edtez as current MSXVR user :P</p>\n<p>Copyleft 2021</p>\n<p>Category: Extrem-256 - MSX1</p>\n<p>-------------------------------------\u00a0</p>\n<p>\u00a0Here you find the code explanation:</p>\n<p>-------------------------------------</p>\n<p>line 10\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p>\n<p>\u00a0 \u00a0 DEFINT A-Z\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Define as intenger all vars which initials go to A till Z</p>\n<p>\u00a0 \u00a0 DIM B(50)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Define B array which holds all gameboard values. It has more than it is needed, just 42 values are used</p>\n<p>\u00a0 \u00a0 DIM L(7)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Define L array for upper bounder for every colum</p>\n<p>\u00a0 \u00a0 COLOR 7,1,1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Swicht color to light blue and black</p>\n<p>\u00a0 \u00a0 SCREEN2,2,0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set mode screen</p>\n<p>\u00a0 \u00a0 OPEN\"GRP:\"AS#1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Allow to write on graphic mode</p>\n<p>\u00a0 \u00a0 FOR I=0 TO 7\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Retrive text messages from datas</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 READ T$(I)</p>\n<p>\u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 FOR J=0 TO 1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Define disk sprites (filled and empty one)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 A$=\"\"</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR I=1 TO 32</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 READ D</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 A$=A$+CHR$(D)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 NEXT\u00a0 \u00a0\u00a0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 SPRITE$(J)=A$</p>\n<p>\u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 ON INTERVAL=100 GOSUB 100\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set interruption routine which will be executed every 2 seconds after activating</p>\n<p>\u00a0 \u00a0 DEFUSR=&amp;HB1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set BIOS call for waiting for RETURN pressed</p>\n<p>\u00a0 \u00a0 FOR I=5 TO 7\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Set Title and allow you to decide who will start the game\u00a0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PSET(2,I*8-16-120*(I=7))</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PRINT#1,T$(I)</p>\n<p>line 20</p>\n<p>\u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 FOR I=28 TO 32</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 CIRCLE(128,96),I,11</p>\n<p>\u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 A$=INPUT$(1)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Wait for any key pressed</p>\n<p>\u00a0 \u00a0 CLS\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Clear screen and draw gameboard</p>\n<p>\u00a0 \u00a0 LINE(55,33)-(199,158),4,BF\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0</p>\n<p>\u00a0 \u00a0 FOR J=0 TO 5</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR I=0 TO 6</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 X=I*20+67</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Y=J*20+45</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 CIRCLE(X,Y),7,1</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PAINT(X,Y),1,1</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 NEXT I,J</p>\n<p>\u00a0 \u00a0 UX=120\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Set variables: UX,uy horizontal valule in pixels for player disk and A is the fourth colum</p>\n<p>\u00a0 \u00a0 UY=14</p>\n<p>\u00a0 \u00a0 A=3</p>\n<p>\u00a0 \u00a0 IF A$&lt;&gt;\"Y\" AND A$&lt;&gt;\"y\" THEN\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; If A$ is any value different form Y or y then computer start playing...</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PSET(56,170)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; ... send text message \"LET ME THINK...\"</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PRINT#1,T$(3)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 INTERVALON\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Turn on interruption routine</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 GOTO50\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; go to line 50 and end if</p>\n<p>line 30\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; ---------------- PLAYER MOVE -------------------------------------------------------------------</p>\n<p>\u00a0 \u00a0 INTERVAL OFF\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Turn off interruption routine</p>\n<p>\u00a0 \u00a0 PSET(56,170)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Set text message \"MOVE\"\u00a0</p>\n<p>\u00a0 \u00a0 PRINT#1,T$(4)</p>\n<p>\u00a0 \u00a0 PUTSPRITE0,(UX,UY),11,0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set initial disk player sprite</p>\n<p>\u00a0 \u00a0 D=STICK(0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Arrow keys control</p>\n<p>\u00a0 \u00a0 A=A+(D=7)-(D=3)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Two decisions: a) if d=7 then a=a-1 b) if d=3 then a=1+1. Choose colum to play</p>\n<p>\u00a0 \u00a0 A=A-(A&lt;0)+(A&gt;6)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Two decisions: a) if a&lt;0 then a=a+1 b) if a&gt;6 then a=a-1. Horizontal limits police</p>\n<p>\u00a0 \u00a0 UX=A*20+60\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Set UX value needed for 'put sprite' instruction</p>\n<p>\u00a0 \u00a0 IF D&lt;&gt;5 OR L(A)=6 GOTO 30 ELSE\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; If d=5 and L(A) then dropping piece. A is the chosed colum, L(A)=6 means that colum A is filled...</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PLAY\"D\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; ...in other case make movement with little visual effect</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR H=0 TO 5-L(A)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PUTSPRITE0,(UX,UY+H*20),11,0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR R T=0 TO 30 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Simple delay</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 NEXTRT,H</p>\n<p>\u00a0 \u00a0 PUTSPRITE0,(O,UY),0,0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; remove sprite from screen and endif</p>\n<p>line 40\u00a0</p>\n<p>\u00a0 \u00a0 B((5-L(A))*7+A)=1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Mark the gameboard array for the player move</p>\n<p>\u00a0 \u00a0 L(A)=L(A)+1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Increase the upper bounder array</p>\n<p>\u00a0 \u00a0 X=A*20+67\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set X and Y values for the final disk player position</p>\n<p>\u00a0 \u00a0 Y=(6-L(A))*20+45</p>\n<p>\u00a0 \u00a0 CIRCLE(X,Y),7,11</p>\n<p>\u00a0 \u00a0 PAINT(X,Y),11</p>\n<p>\u00a0 \u00a0 LINE(0,170)-(255,178),1,BF\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Erase text area for next message</p>\n<p>\u00a0 \u00a0 P=1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set P=1 (player mark)</p>\n<p>\u00a0 \u00a0 GOSUB80\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; call check 4 lines routine to know if player win</p>\n<p>\u00a0 \u00a0 PSET(56,170)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 IF T&gt;0 THEN PRINT#1,T$(0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; if player win, send message \"YOU WON\"</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 A=USR(0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Wait for RETURN pressed</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 RUN\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Restart the program</p>\n<p>\u00a0 \u00a0 ELSE\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; ...else...</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 E=0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set E as the first colum for thinking computer effect\u00a0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PRINT#1,T$(3)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Send message \"LET ME THINK...\"</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 INTERVAL ON\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Turn on interruption routine</p>\n<p>line 50\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; ---------------- COMPUTER MOVE -----------------------------------------------------------------</p>\n<p>\u00a0 \u00a0 A=INT(RND(-TIME)*6)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; choose colum using Random Basic service from 0 to 6 (seven values; seven colum)</p>\n<p>\u00a0 \u00a0 IF L(A)&gt;5 THEN 50\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; if L(A) (upper bounder array) is filled then got to take out another value going to the beginning of the line</p>\n<p>\u00a0 \u00a0 ELSE</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR E=0 TO 6\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Go through every colum and check if four line is made by the player, if so, choose that colum to drop the disk\u00a0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Z=-((5-L(E))*7+E)*(L(E)&lt;6)-42*(L(E)&gt;5)\u00a0 \u00a0 \u00a0 ; Avoid check out of gameboard limits</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 P=1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; player mark for the gameboard array</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 B(Z)=1</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 GOSUB80</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 B(Z)=0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 A=-E*(T&gt;0)-A*(T=0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; if not line is made by the player, keep on the random colum at the begining chosed. If line is made, swith colum</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 FOR E=0 TO 6\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Go through every colum and check if foru line is made by the computer. It is similar to the previous FOR...NEXT</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Z=-((5-L(E))*7+E)*(L(E)&lt;6)-42*(L(E)&gt;5)</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 P=2\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; computer mark for the gameboard array</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 B(Z)=2</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 GOSUB80</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 B(Z)=0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 A=-E*(T&gt;0)-A*(T=0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; if line is made by computer, switch colum, in other case keeping the previous one</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 G=-(T&gt;0)ORG\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; G holds T value for knowing computer victory later</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 NEXT</p>\n<p>line 60\u00a0</p>\n<p>\u00a0 \u00a0 FOR H=0 TO 5-L(A)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; dropping disk effect</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PUTSPRITE0,(A*20+60,UY+H*20),6,0</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 PUTSPRITE0,(0,0),0,0</p>\n<p>\u00a0 \u00a0 NEXT</p>\n<p>\u00a0 \u00a0 B((5-L(A))*7+A)=2\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Mark gameboard array for computer move</p>\n<p>\u00a0 \u00a0 X=A*20+67\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set X value for drawing computer disk</p>\n<p>\u00a0 \u00a0 L(A)=L(A)+1\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Increase upper bounder array</p>\n<p>\u00a0 \u00a0 Y=(6-L(A))*20+45\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Set Y value for drawing computer disk</p>\n<p>\u00a0 \u00a0 PLAY\"C\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Emit simple C note (note DO)</p>\n<p>\u00a0 \u00a0 CIRCLE(X,Y),7,6\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Paint computer disk</p>\n<p>\u00a0 \u00a0 PAINT(X,Y),6\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Fill computer disk</p>\n<p>\u00a0 \u00a0 LINE(0,170)-(255,178),1,BF\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Erase text area</p>\n<p>\u00a0 \u00a0 PSET(56,170)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Put text pointer at 56,170</p>\n<p>\u00a0 \u00a0 A=3\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; Set initial colum at fourth position (colums are numered as 0,1,2,3,4,5,6)\u00a0</p>\n<p>\u00a0 \u00a0 IF G&gt;0 THEN PRINT#1,T$(1)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; If G&gt;0 (T&gt;0) then print message \"YOU LOST\"...</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 A=USR(0)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Wait for RETURN pressed</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 RUN\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0; restart and end if</p>\n<p>line 70\u00a0</p>\n<p> PUT SPRITE 0,(0,0),0,0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Remove sprites from screen</p>\n<p> PUT SPRITE 1,(0,0),0,1</p>\n<p> F=F+2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Increase move counter</p>\n<p> IF F&lt;42 THEN 30 ELSE \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; If F=42, all holes are filled, therefore It is draw</p>\n<p> PRINT#1,T$(2) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Send message \"IT IS DRAW,NOBODY WON\"</p>\n<p> A=USR(0) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Wait for RETURN pressed</p>\n<p> RUN \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Restart program</p>\n<p>line 80 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; ---------------- CHECK LINES -------------------------------------------------------------------</p>\n<p> T=0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; T holds number of 4 disk-in-line that were done</p>\n<p> FOR H=0 TO 1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; H=0 for checking vertical lines, H=1 for checking horizontal lines</p>\n<p> FOR I=0 TO 5-(H=0) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Main loop for checking horizontal and vertical lines</p>\n<p> S=1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; S offset position in every line</p>\n<p> K=0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Partial line control, start at 0 disk in the line</p>\n<p> FOR J=0 TO 5-(H=1) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Sub-main loop for checking horizontal and vertical lines</p>\n<p> M=(B(J+I*7)=P)*S*(H=1) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Transform phisical 4 disks to concept 4 bits</p>\n<p> \u00a0 +(B(J*7+I)=P)*S*(H=0) </p>\n<p> K=-(K+M)*(M&gt;0) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Partial line control</p>\n<p> S=S*2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Increase bit (8=1000,4=0100,2=0010,1=0001), if M=15 then 4 disk-in-line was made</p>\n<p> FOR R=0 TO 2+H \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Checking if 4 disk-in-line was made\u00a0</p>\n<p> T=T-(K=2^R*15)</p>\n<p> NEXTR,J,I,H</p>\n<p> FOR I=0 TO 3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Algorithm for checking diagonal lines. Choose table (*see final note)</p>\n<p> FOR J=0 TO 2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Choose diagonal line</p>\n<p> K=0</p>\n<p> FOR V=I+3 TO I+21 STEP 6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Adjust initial value for up-right to down-left orientation</p>\n<p> K=K-(B(J*7+V)=P) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Partial disk control</p>\n<p> NEXT</p>\n<p>line 90\u00a0</p>\n<p> T=T-(K=4) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; if K=4 then T=T+1 (add one filled line more)</p>\n<p> K=0</p>\n<p> FOR V=I TO I+24 STEP 8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Adjust initial value for up-left to down-rigth orientation</p>\n<p> K=K-(B(J*7+V)=P) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Partial disk control</p>\n<p> NEXT</p>\n<p> T=T-(K=4) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; if K=4 then T=T+1 (add one filled line more)</p>\n<p> NEXTJ,I</p>\n<p> RETURN</p>\n<p>line 100\u00a0</p>\n<p> PUT SPRITE 0,(E*20+60,UY),9,1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ; Thinking effect. Rotate disks by the colums</p>\n<p> PUT SPRITE 1,(A*20+60,UY),6,0</p>\n<p> RETURN</p>\n<p>-------</p>\n<p>\u00a0DATAS</p>\n<p>-------\u00a0</p>\n<p>Datas are put on left lines (datas just hold text messages and sprites values)</p>\n<p>DATA\"YOU WON\",\"YOU LOST\",\"IT IS DRAW,NOBODY WON\",\"LET ME THINK...\",MOVE,\"CONNECT 4 - 10LINERS CONTEST'21\",\"by Javier Franco\",\"DO YOU WANT RUN TO START(Y/y)?\"</p>\n<p>DATA3,15,31,63,127,127,255,255,255,255,127,127,63,31,15,3,192,240,248,252,254,254,255,255,255,255,254,254,252,248,240,192,3,12,16,32,64,64,128,128,128,128,64,64,32,16,12,3</p>\n<p>DATA192,48,8,4,2,2,1,1,1,1,2,2,4,8,48,1</p>\n<p>-------------</p>\n<p>\u00a0*FINAL NOTE</p>\n<p>-------------</p>\n<p>The gist to check diagonal lines is based on going through all elements according to the next tables using for-next loops:</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a03\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a04\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a05\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a06</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a0 9 10\u00a0 \u00a0 \u00a0 \u00a010 11\u00a0 \u00a0 \u00a0 \u00a011 12\u00a0 \u00a0 \u00a0 \u00a012 13</p>\n<p>\u00a0 \u00a0 15 16 17\u00a0 \u00a0 16 17 18\u00a0 \u00a0 17 18 19\u00a0 \u00a0 18 19 20</p>\n<p>\u00a021 22 23\u00a0 \u00a0 22 23 24\u00a0 \u00a0 23 24 25\u00a0 \u00a0 24 25 26</p>\n<p>\u00a028 29\u00a0 \u00a0 \u00a0 \u00a029 30\u00a0 \u00a0 \u00a0 \u00a030 31\u00a0 \u00a0 \u00a0 \u00a031 32</p>\n<p>\u00a035\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 26\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 37\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 28\u00a0\u00a0</p>\n<p>\u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a02\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a03</p>\n<p>\u00a0 7\u00a0 8\u00a0 \u00a0 \u00a0 \u00a0 8\u00a0 9\u00a0 \u00a0 \u00a0 \u00a0 9 10\u00a0 \u00a0 \u00a0 \u00a010 11</p>\n<p>\u00a014 15 16\u00a0 \u00a0 15 16 17\u00a0 \u00a0 16 17 18\u00a0 \u00a0 17 18 19</p>\n<p>\u00a0 \u00a0 22 23 24\u00a0 \u00a0 23 24 25\u00a0 \u00a0 24 25 26\u00a0 \u00a0 25 26 27</p>\n<p>\u00a0 \u00a0 \u00a0 \u00a030 31\u00a0 \u00a0 \u00a0 \u00a031 32\u00a0 \u00a0 \u00a0 \u00a032 33\u00a0 \u00a0 \u00a0 \u00a033 34</p>\n<p> \u00a0 38\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 39\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 40\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 41</p>\n<p>Keep in mind that the B() array (gameboard array) is organized as:</p>\n<p>\u00a0 0\u00a0 1\u00a0 2\u00a0 3\u00a0 4\u00a0 5\u00a0 6</p>\n<p>\u00a0 7\u00a0 8\u00a0 9 10 11 12 13</p>\n<p>\u00a014 15 16 17 18 19 20</p>\n<p>\u00a021 22 23 24 25 26 27\u00a0</p>\n<p>\u00a028 29 30 31 32 33 34</p>\n<p>\u00a035 36 37 38 39 40 41</p>", "metacritic": null, "released": "2021-03-12", "tba": false, "updated": "2021-03-15T07:38:41", "background_image": "https://media.rawg.io/media/screenshots/3c5/3c54b15ef8b10140ac80239c859eb8d2.jpg", "website": "", "rating": 0.0, "rating_top": 0, "added_by_status": null, "playtime": 0, "achievements_count": 0, "ratings_count": 0, "suggestions_count": 10, "game_series_count": 0, "reviews_count": 0, "platforms": ["PC"], "developers": ["BASIC 10Liner"], "genres": ["Strategy"], "publishers": [], "esrb_rating": null}